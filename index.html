<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

  <title>Hello, world!</title>
  <style>
    body {
      background-image: url("https://cdn.wallpapersafari.com/8/86/LgV3Zd.png");
      background-size: cover;
      font-family: 'Courier New', Courier, monospace;
    }

    ul {
      list-style-type: none;
    }

    #cmd-head {
      color: black;
      background-color: rgb(73, 72, 72);
    }

    #cmd-body {
      padding-left: 0;
      padding-right: 2rem;
      height: 500px;
      overflow: scroll;
      overflow-x: hidden;
      color: #39FF14;
      background: rgba(0, 0, 0, 0.5);
    }


    table {
      border-collapse: collapse;
      width: 100%;
    }

    td,
    th {
      border: 1px dashed #dddddd;
      text-align: left;
      padding: 8px;
    }
  </style>
</head>

<body>

  <div class="col-sm-8 w-50 mt-2 m-auto" id="cmd">
    <div class="bg-grey" id="cmd-head">
      <div class="row">
        <div class="col-sm-10 text-center ">root@kaliLinux:~</div>
        <ul class="list-group d-flex flex-row justify-content-around col-sm-2">
          <li class="fa fa-minus"></li>
          <li class="fa fa-square"></li>
          <li class="fa fa-times"></li>
        </ul>
      </div>
      <ul class="list-group d-flex flex-row justify-content-around col-sm-6">
        <li>File</li>
        <li>Action</li>
        <li>Edit</li>
        <li>View</li>
        <li>Help</li>

      </ul>
    </div>
    <div id="cmd-body" >
      <div class="col-sm-12"><span style="color:rgb(253, 71, 71)">kali@Kali:~$</span>
        <span class="cmd-body-txt"> </span>
      </div>

    </div>

  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
    crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"
    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script>
    //modifying console.log so that it is easy to trace the console.
    let logger = (msg, color) => {
      console.log('%c' + msg, 'background: #222; color: ' + color)
    }
    //get last element for command
    let getLastElement = () => {
      let el = $('.cmd-body-txt');
      el = el[el.length - 1];
      return $(el);
    }

    //function to execute the command when the user types and press the 'enter' button
    let executeCommand = (command) => {
      if (command)
        command = command.toLowerCase();
      logger(command, 'green')
      let msg = null;
      switch (command) {
        case 'education':
        case 'educations': {
          msg = `<table>
  <tr>
    <th>Uni/College</th>
    <th>From-To</th>
    <th>Degree</th>
  </tr>
  <tr>
    <td>Swinburne University of Technology, Melbourne, Australia</td>
    <td>2018-2019</td>
    <td>Masters of Information Technology (Data analytics)</td>
  </tr>
  <tr>
    <td>Amrit Science Campus, Kathmandu, Nepal</td>
    <td>2010-2014</td>
    <td>Bachelors of Science - Computer Science and Information Technology</td>
  </tr>
  
</table>
`
          break;
        }
        case 'skills':
        case 'skill': {
          console.log('skills')
          msg = `<table>
  <tr>
    <th>Language</th>
    <th>Level of expertise (1-10)</th>
    <th>Experience</th>
  </tr>
  <tr>
    <td>React</td>
    <td>8</td>
    <td>1 year</td>
  </tr>
  <tr>
    <td>Angular</td>
    <td>8</td>
    <td>3</td>
  </tr>
  <tr>
    <td>JavaScript</td>
    <td>8</td>
    <td>3</td>
  </tr>
  <tr>
    <td>CSS</td>
    <td>6</td>
    <td>1</td>
  </tr>
  <tr>
    <td>Java</td>
    <td>5</td>
    <td>1</td>
  </tr>
</table>
`
          break;
        }
        case 'experience':
        case 'experiences': {
          console.log('experience')
          msg = `<table>
  <tr>
    <th>Company</th>
    <th>From -To</th>
    <th>Role</th>
  </tr>
  <tr>
    <td>Itrazotracetech, Melbourne, Australia</td>
    <td>May 2020-November 2020</td>
    <td>ReactJs and React Native Developer</td>
  </tr>
  <tr>
    <td>Zodicom, Melbourne, Australia</td>
    <td>August 2019-November 2019</td>
    <td>Full-stact developer (college project)</td>
  </tr>
  <tr>
    <td>Guided App, Melbourne, Australia</td>
    <td>May 2018- February 2019</td>
    <td>ReactJs Developer</td>
  </tr>
  <tr>
    <td>SuvidhaTech, Kathmandu, Nepal</td>
    <td>April 2017- January 2018</td>
    <td>Angular Developer</td>
  </tr>
  <tr>
    <td>ZurelSoft, Kathmandu, Nepal</td>
    <td>July 2015- March 2017</td>
    <td>Angular Developer</td>
  </tr>
</table>
`
          break;
        }
        case 'clear':
        case 'cls': {
          $('.cmd-body-txt').parent().remove();
          msg = '';
          break;
        }
        default: {

          msg = '';
          console.log("default");
        }
      }
      if (msg.length > 0)
        getLastElement().html(msg);
      $('#cmd-body').append(`<div class="col-sm-12"><span style="color:rgb(253, 71, 71)">kali@Kali:~$</span>
        <span class="cmd-body-txt"></span>
      </div>
`);
      // scroll page to the bottom.
      logger(JSON.stringify(getLastElement().scrollTop(getLastElement().scrollHeight)), 'pink')
      $('#cmd-body').animate({
        scrollTop: 1000 * $('.cmd-body-txt').length
      }, 1000);
    }
    //function to emulate typing. for exaample blinking cursor and one alphabet .
    let animateType = () => {
      let message = `Hello, world! My name is Ramesh Khadka. I am a JavaScript Developer. Welcome to my world.
         Please type and enter any one of the commands to see the result.This project can be viewed in https://github.com/eaxle/eaxle.github.io/blob/master/index.html.`;
      message = message.split('');
      let i = 0;
      let interval = setInterval(() => {
        if (i < message.length) {
          getLastElement().html(getLastElement().html() + message[i]);
          i++;
        }
        else {
          executeCommand();
          clearInterval(interval);
          $('body').bind('keydown', (event) => {
            callMe(event);
          })
        }
      }, 40)
    }
    $(document).ready(animateType());
    let callMe = (e) => {
      switch (e.keyCode) {
        case 13: {
          executeCommand(getLastElement().html());
          break;
        }
        case 8 || 46: {
          console.log('inside backspace');
          let str = getLastElement().html().split('');
          str.pop();
          getLastElement().html(str.join(''));
          break;
        }
        default: {
          if (e.keyCode >= 65 && e.keyCode <= 90)
            getLastElement().html(getLastElement().html() + e.key)
          console.log(e.key);
          break;
        }
      }
    }

  </script>
</body>

</html>
